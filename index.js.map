{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '45704413-78352b289562c0261d4e7c072';\nconst baseUrl = 'https://pixabay.com/api/';\n\n\nexport function getGalleryData(queryValue) {\n \n  const searchParams = new URLSearchParams({\n    key: apiKey,           \n    q: queryValue,            \n    image_type: 'photo',      \n    orientation: 'horizontal',\n    safesearch: 'true',        \n  });\n\n\n  return fetch(`${baseUrl}?${searchParams}`)\n    .then(response => {\n      \n      if (!response.ok) {\n      \n        throw new Error(response.status);\n      }\n   \n      return response.json();\n    });\n}\n\n","\nexport function addLoader(gallery) {\n  const loaderHTML = '<span class=\"loader\"></span>';\n  \n  \n  gallery.insertAdjacentHTML('afterbegin', loaderHTML);\n}\n\n\nexport function removeLoader() {\n\n  const loader = document.querySelector('.loader');\n  \n  if (loader) {\n    loader.remove();\n  }\n}\n\n\nexport function markup(data) {\n \n  return data.hits\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n            <li class=\"gallery-item hvr-grow\">\n              <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                  class=\"gallery-image\"\n                  src=\"${webformatURL}\"\n                  alt=\"${tags}\"\n                  loading=\"lazy\"\n              /></a>\n              <ul class=\"img-content-wrapper\">\n                <li class=\"img-content-descr\">Likes<span>${likes}</span></li>\n                <li class=\"img-content-descr\">Views<span>${views}</span></li>\n                <li class=\"img-content-descr\">Comments<span>${comments}</span></li>\n                <li class=\"img-content-descr\">Downloads<span>${downloads}</span></li>\n              </ul>\n            </li>\n      `\n    )\n    .join(''); \n}\n\n","import { getGalleryData } from './js/pixabay-api';\nimport { addLoader, removeLoader, markup } from './js/render-functions';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\n\n// Ініціалізуємо SimpleLightbox\nlet lightbox = null;\n\nform.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n\n  const formData = new FormData(event.target);\n  const { searchQuery } = Object.fromEntries(formData.entries());\n  const searchValue = searchQuery.trim();\n\n  if (!searchValue) {\n    iziToast.error({\n      title: 'Error',\n      message: 'The search query is empty.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  \n  gallery.innerHTML = '';\n\n  \n  addLoader(gallery);\n\n\n  if (lightbox) {\n    lightbox.destroy();\n  }\n\n  getGalleryData(searchValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.info({\n          position: 'topRight',\n          title: 'Info',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      // Створюємо HTML-розмітку для галереї\n      const galleryMarkup = markup(data);\n      gallery.insertAdjacentHTML('beforeend', galleryMarkup);\n\n     \n      lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n    })\n    .catch(error => {\n      console.error('Помилка:', error);\n      iziToast.error({\n        title: 'Error',\n        message: `Error: ${error.message}`,\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      removeLoader(); \n    });\n}\n"],"names":["apiKey","baseUrl","getGalleryData","queryValue","searchParams","response","addLoader","gallery","removeLoader","loader","markup","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","lightbox","onSubmitForm","event","formData","searchQuery","searchValue","iziToast","galleryMarkup","SimpleLightbox","error"],"mappings":"wvBAAA,MAAMA,EAAS,qCACTC,EAAU,2BAGT,SAASC,EAAeC,EAAY,CAEzC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAGD,OAAO,MAAM,GAAGF,CAAO,IAAIG,CAAY,EAAE,EACtC,KAAKC,GAAY,CAEhB,GAAI,CAACA,EAAS,GAEZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,CACL,CCxBO,SAASC,EAAUC,EAAS,CAIjCA,EAAQ,mBAAmB,aAHR,8BAGgC,CACrD,CAGO,SAASC,GAAe,CAE7B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE3CA,GACFA,EAAO,OAAM,CAEjB,CAGO,SAASC,EAAOC,EAAM,CAE3B,OAAOA,EAAK,KACT,IACC,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,8CAEtCL,CAAa;AAAA;AAAA;AAAA,yBAGlCD,CAAY;AAAA,yBACZE,CAAI;AAAA;AAAA;AAAA;AAAA,2DAI8BC,CAAK;AAAA,2DACLC,CAAK;AAAA,8DACFC,CAAQ;AAAA,+DACPC,CAAS;AAAA;AAAA;AAAA,OAInE,EACA,KAAK,EAAE,CACZ,CCnCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CZ,EAAU,SAAS,cAAc,UAAU,EAGjD,IAAIa,EAAW,KAEfD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAW,IAAI,SAASD,EAAM,MAAM,EACpC,CAAE,YAAAE,CAAW,EAAK,OAAO,YAAYD,EAAS,QAAO,CAAE,EACvDE,EAAcD,EAAY,OAEhC,GAAI,CAACC,EAAa,CAChBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACT,SAAU,UAChB,CAAK,EACD,MACD,CAGDnB,EAAQ,UAAY,GAGpBD,EAAUC,CAAO,EAGba,GACFA,EAAS,QAAO,EAGlBlB,EAAeuB,CAAW,EACvB,KAAKd,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1Be,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,OACP,QAAS,0EACnB,CAAS,EACD,MACD,CAGD,MAAMC,EAAgBjB,EAAOC,CAAI,EACjCJ,EAAQ,mBAAmB,YAAaoB,CAAa,EAGrDP,EAAW,IAAIQ,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACtB,CAAO,CACP,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,WAAYA,CAAK,EAC/BH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,UAAUG,EAAM,OAAO,GAChC,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbrB,GACN,CAAK,CACL"}